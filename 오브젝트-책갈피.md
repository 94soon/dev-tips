# 오브젝트 책갈피

책은 기대만큼 너무나도 ~~좋다.~~ 좋을 것이다.(아직 다 본 건 아니므로..)

학습 효과의 극대화를 위해 책갈피로 남겨두고 가능하다면 조금 다른 생각도 곁들여보자.

책의 내용은 다음과 같이 표시하고,

>책 내용 (거의) 그대로

덧붙이거나 다른 생각은 

- 덧붙임
- 다른 생각

으로 표시한다.

## 01. 객체, 설계

### p13

- `Theater.enter(Audience)` 보다는 `Theater.receive(Audience)`가 나을 듯

### p14

- 모듈의 3가지 기능?속성? by Robert C. Martin

  >- 실행 중 정상 동작
  >- 낮은 변경 비용
  >- 낮은 의사소통 비용

- 실행 중 정상 동작
  - 테스트로 보장
- 낮은 변경 비용
  - 불필요한 의존 관계 제거를 통해 달성
  - 의존의 반대말은 독립
  - 언제 독립 시키나? 믿을만한 자율성이 있을 때
  - 따라서 객체에게 믿을만한 자율성을 줘야 독립시키고 불필요한 의존 관계를 제거할 수 있다.
- 낮은 의사소통 비용
  - 관습, 규약, 패턴
  - 코드 리뷰

### p20

- 캡슐화
  
  >개념적이나 물리적으로 객체 내부의 세부적인 사항을 감추는 것을 **캡슐화(encapsulation)**라고 부른다.

  - 캡슐화를 잘 하면 객체 내부 세부 사항이 감춰지는 효과가 나지만, 그렇다고 세부 사항을 감추는 것을 캡슐화라고 부르는 게 적절한가?
  - 이보다는 Holub on Patterns의 역자주 내용을 참고해서 캡슐화와 은닉을 구분하는 게 좋을 듯
    - 캡슐화(encapsulation)
      - 흘러다니는 데이터와 결합도는 보통 비례 관계
      - 데이터와 연산을 한데 묶어서 결합도 증가를 막아주는 장치
      - 주로 클래스와 관련이 깊다
    - 정보 은닉(information hiding)
      - 내부를 감춤으로써 자율성의 훼손을 방지하고
      - 자율성 훼손 방지를 통해 결합도 증가를 막아주는 장치
      - 주로 접근 지정자(public, protected, private 등)와 인터페이스와 관련이 깊다

### p25

- 객체 지향 설계 개선 방향

  >우리는 객체의 자율성을 높이는 방향으로 설계를 개선했다. 그 결과 이해하기 쉽고 유연한 설계를 얻을 수 있었다.

### p26

- 응집도

  >밀접하게 연관된 작업만을 수행하고 연관성 없는 작업은 다른 객체에게 위임하는 객체를 가리켜 응집도(cohesion)가 높다고 말한다.
  
  - 응집도에 위임 개념이 반드시 들어가야할까?
  - 객체 자신이 소유하고 있는 데이터를 많이 활용하면서 동작하는 객체는 위임하지 않더라도 응집도가 높다.
  - 소유하고 있지만 활용되지 않는 데이터가 많으면 응집도가 낮아지며, 이를 소유하지 않고 외부로 옮겨서 위임하면 응집도가 높아진다.
  - 객체 자신이 소유하고 있지 않은 데이터를 많이 활용하면서 동작하는, 다시 말해 다른 객체에게 데이터를 요구하는 방식으로 동작하는 객체는 결합도가 높다.

- 절차적 프로그래밍

  >프로세스와 데이터를 별도의 모듈에 위치시키는 방식을 절차적 프로그래밍이라 한다.

- 절차적 프로그래밍과 직관

  >일반적으로 절차적 프로그래밍은 우리의 직관에 위배된다. 우리는 관람객과 판매원이 자신의 일을 스스로 처리할 것이라고 예상한다.

  - 다른 관점에서 보면 절차적 프로그래밍은 우리의 직관에 위배되는 것이 아니라, 우리의 직관을 그대로 옮긴다.
    - 영화관 입장이라는 처리 흐름 관점에서는 관람객, 판매원, 극장 등의 자율성 있는 객체의 협력망을 떠올리기보다는 금액, 티켓, 차감 등 데이터와 동작을 처리 흐름에 따라 절차적으로 나열하는 것이 더 직관에 부합한다.
    - 또한 무생물인 극장, 매표소 등이 자율적으로 동작한다고 생각하는 것 역시 직관에 부합하지 않는다.
    - 이처럼 절차적 프로그래밍이 직관에 더 부합하기 때문에 객체 지향 프로그래밍보다 더 먼저 정립된 것이 아닐까.

### p27

- 객체지향 프로그래밍

  >데이터와 프로세스가 동일한 모듈 내부에 위치하도록 프로그래밍하는 방식을 객체지향 프로그래밍이라고 부른다.

  - 연관된 데이터와 프로세스를 하나의 자율적인 객체로 캡슐화해서 절차의 나열이 아니라 객체의 협력을 통해 문제를 해결하는 프로그래밍 방식을 객체지향 프로그래밍이라고 부른다.

### p29

- 캡슐화와 정보 은닉

  >예제에서 결합도를 낮추기 위해 선택한 방법은 Theater가 몰라도 되는 세부사항을 Audience와 TicketSeller 내부로 감춰 캡슐화하는 것이다.

  - 어쩌면 이 책에서는 캡슐화와 정보 은닉(information hiding)을 일부러 캡슐화 하나로 퉁친 듯. 정보 은닉(또는 감춤)이 용어 자체로도 불필요한 것을 감춘다는 의미를 더 구체적으로 전달하므로 캡슐화보다 전달력이 더 좋다고 생각.

### p34

- 객체지향은 실세계를 그대로 반영?

  >실세계에서는 생명이 없는 수동적인 존재라고 하더라도 객체지향의 세계로 넘어오는 순간 그들은 생명과 지능을 가진 싱싱한 존재로 다시 태어난다.

  - 객체지향은 실세계를 그대로 반영하지 않으며, 무생물을 자율적인 존재로 의인화하는 과정이 필요.

### p35

- 좋은 설계란?

  >오늘 요구하는 기능을 온전히 수행하면서 내일의 변경을 매끄럽게 수용할 수 있는 설계

### p36

- 좋은 객체지향 설계란?

  >협력하는 객체 사이의 의존성을 적절하게 관리하는 설계

  - 적절한 의존성에서의 적절은 양과 방향 관점으로 나눌 수 있다.
  - 객체의 자율성을 높이면 의존성의 양을 줄일 수 있다.
  - 의존성의 방향은 나중에 나올 듯

